Howto add parameters to zabbix?
===============================
1. Install zabbix agent on server

2. edit /etc/zabbix/zabbix_agentd.conf like example:

   UserParameter=phdcount,grep ONLINE_PHD /var/log/AAA/fum-BW-control.log | tail -1 | awk '{ print $NF }'
   UserParameter=mastercount,grep ONLINE_MASTER /var/log/AAA/fum-BW-control.log | tail -1 | awk '{ print $NF }'
   UserParameter=otherstucount,grep ONLINE_OTHER_STU /var/log/AAA/fum-BW-control.log | tail -1 | awk '{ print $NF }'
   UserParameter=profcount,grep ONLINE_PROF /var/log/AAA/fum-BW-control.log | tail -1 | awk '{ print $NF }'
   UserParameter=staffcount,grep ONLINE_STAFF /var/log/AAA/fum-BW-control.log | tail -1 | awk '{ print $NF }'
   UserParameter=othercount,grep ONLINE_DEFAULT /var/log/AAA/fum-BW-control.log | tail -1 | awk '{ print $NF }'

3. restart zabbix agent : service zabbix-agent restart

4. add item to the zabbix and for example "phdcount" would be key in the new item of zabbix

User parameter defined for user count:
=======================================

UserParameter=wire_user_Engineering, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Engineering" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Engineering, grep wireless /var/log/AAA/qos-monitor.log | grep "Engineering" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Agriculture, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Agriculture" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Agriculture, grep wireless /var/log/AAA/qos-monitor.log | grep "Agriculture" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_site_central_reading_room, grep -v wireless /var/log/AAA/qos-monitor.log | grep "central_reading_room" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_site_central_reading_room, grep wireless /var/log/AAA/qos-monitor.log | grep "central_reading_room" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Dormitories_fajr_5, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_fajr_5" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Dormitories_fajr_5, grep wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_fajr_5" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Dormitories_pardis_2, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_pardis_2" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Dormitories_pardis_2, grep wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_pardis_2" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Students_Administrations, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Students_Administrations" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Students_Administrations, grep wireless /var/log/AAA/qos-monitor.log | grep "Students_Administrations" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Dormitories_fajr_1, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_fajr_1" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Dormitories_fajr_1, grep wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_fajr_1" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Dormitories_fajr_2, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_fajr_2" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Dormitories_fajr_2, grep wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_fajr_2" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Dormitories_fajr_3, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_fajr_3" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Dormitories_fajr_3, grep wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_fajr_3" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Dormitories_fajr_4, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_fajr_4" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Dormitories_fajr_4, grep wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_fajr_4" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Dormitories_bagha, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_bagha" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Dormitories_bagha, grep wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_bagha" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Dormitories_pardis_1, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_pardis_1" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Dormitories_pardis_1, grep wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_pardis_1" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Dormitories_pardis_3, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_pardis_3" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Dormitories_pardis_3, grep wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_pardis_3" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Dormitories_pardis_4, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_pardis_4" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Dormitories_pardis_4, grep wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_pardis_4" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Dormitories_pardis_5, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_pardis_5" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Dormitories_pardis_5, grep wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_pardis_5" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Dormitories_pardis_6, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_pardis_6" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Dormitories_pardis_6, grep wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_pardis_6" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Dormitories_pardis_7, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_pardis_7" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Dormitories_pardis_7, grep wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_pardis_7" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Dormitories_pardis_8, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_pardis_8" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Dormitories_pardis_8, grep wireless /var/log/AAA/qos-monitor.log | grep "Dormitories_pardis_8" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_StudentsAffairs_CulturalAffairs, grep -v wireless /var/log/AAA/qos-monitor.log | grep "StudentsAffairs_CulturalAffairs" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_StudentsAffairs_CulturalAffairs, grep wireless /var/log/AAA/qos-monitor.log | grep "StudentsAffairs_CulturalAffairs" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Administration_Organization, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Administration_Organization" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Administration_Organization, grep wireless /var/log/AAA/qos-monitor.log | grep "Administration_Organization" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Basic_Sciences, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Basic_Sciences" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Basic_Sciences, grep wireless /var/log/AAA/qos-monitor.log | grep "Basic_Sciences" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Mathematics, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Mathematics" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Mathematics, grep wireless /var/log/AAA/qos-monitor.log | grep "Mathematics" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Sport_Faculty_and_Management, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Sport_Faculty_and_Management" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Sport_Faculty_and_Management, grep wireless /var/log/AAA/qos-monitor.log | grep "Sport_Faculty_and_Management" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Natural_Resources, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Natural_Resources" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Natural_Resources, grep wireless /var/log/AAA/qos-monitor.log | grep "Natural_Resources" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_AirSun_IslamicResearch_GasOil_HZMosque, grep -v wireless /var/log/AAA/qos-monitor.log | grep "AirSun_IslamicResearch_GasOil_HZMosque" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_AirSun_IslamicResearch_GasOil_HZMosque, grep wireless /var/log/AAA/qos-monitor.log | grep "AirSun_IslamicResearch_GasOil_HZMosque" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_PlanetErthquake_PersianLangCenter, grep -v wireless /var/log/AAA/qos-monitor.log | grep "PlanetErthquake_PersianLangCenter" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_PlanetErthquake_PersianLangCenter, grep wireless /var/log/AAA/qos-monitor.log | grep "PlanetErthquake_PersianLangCenter" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Divinity, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Divinity" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Divinity, grep wireless /var/log/AAA/qos-monitor.log | grep "Divinity" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Economic, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Economic" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Economic, grep wireless /var/log/AAA/qos-monitor.log | grep "Economic" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Security_Building, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Security_Building" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Security_Building, grep wireless /var/log/AAA/qos-monitor.log | grep "Security_Building" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Central_Library, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Central_Library" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Central_Library, grep wireless /var/log/AAA/qos-monitor.log | grep "Central_Library" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Architect_Faculty, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Architect_Faculty" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Architect_Faculty, grep wireless /var/log/AAA/qos-monitor.log | grep "Architect_Faculty" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Veterinary, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Veterinary" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Veterinary, grep wireless /var/log/AAA/qos-monitor.log | grep "Veterinary" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Psycology, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Psycology" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Psycology, grep wireless /var/log/AAA/qos-monitor.log | grep "Psycology" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Humanities_Sciences, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Humanities_Sciences" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Humanities_Sciences, grep wireless /var/log/AAA/qos-monitor.log | grep "Humanities_Sciences" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Collage, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Collage" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Collage, grep wireless /var/log/AAA/qos-monitor.log | grep "Collage" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Refahi_behshahr, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Refahi_behshahr" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Refahi_behshahr, grep wireless /var/log/AAA/qos-monitor.log | grep "Refahi_behshahr" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Clinic_dampezeshki, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Clinic_dampezeshki" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Clinic_dampezeshki, grep wireless /var/log/AAA/qos-monitor.log | grep "Clinic_dampezeshki" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Markaz_refahi_1, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Markaz_refahi_1" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Markaz_refahi_1, grep wireless /var/log/AAA/qos-monitor.log | grep "Markaz_refahi_1" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_ITS, grep -v wireless /var/log/AAA/qos-monitor.log | grep "ITS" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_ITS, grep wireless /var/log/AAA/qos-monitor.log | grep "ITS" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Office_Tehran_vila, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Office_Tehran_vila" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Office_Tehran_vila, grep wireless /var/log/AAA/qos-monitor.log | grep "Office_Tehran_vila" | tail -1 | awk '{ print $NF }'
UserParameter=wire_user_Office_Tehran_shemroon, grep -v wireless /var/log/AAA/qos-monitor.log | grep "Office_Tehran_shemroon" | tail -1 | awk '{ print $NF }'
UserParameter=wireless_user_Office_Tehran_shemroon, grep wireless /var/log/AAA/qos-monitor.log | grep "Office_Tehran_shemroon" | tail -1 | awk '{ print $NF }'
UserParameter=total_wire_user, grep "total_wire_user" /var/log/AAA/qos-monitor.log | tail -1 | awk '{ print $NF }'
UserParameter=total_wireless_user, grep "total_wireless_user" /var/log/AAA/qos-monitor.log | tail -1 | awk '{ print $NF }'
